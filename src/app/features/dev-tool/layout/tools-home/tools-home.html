<app-menu-card></app-menu-card>

@if (showElement) {
<section class="hero">
  <div class="container">
    <h1>üöÄAll Developer Tools</h1>
    <p>Powerful, lightweight, and developer-friendly devloper tools to boost your productivity.</p>
    <br>
  </div>
</section>
}

@if (showElement) {
<div class="search">
  <div class="search__container" [class.search__container--active]="isSearchActive">
    <div class="search__icon">üîç</div>
    <input type="text" class="search__input" placeholder="Search tools..." [formControl]="searchControl"
      (focus)="onFocus()" (blur)="onBlur()" />
    @if (isSearchActive && searchControl.value) {
    <button class="search__clear" (click)="clearSearch()" type="button">
      ‚úï
    </button>
    }
  </div>
</div>
<section class="tool-list">
  <div class="tool-list__container">
    <div class="tool-list__header">
      <h2 class="tool-list__title">All Tools</h2>
      <div class="tool-list__count">
        {{ (filteredTools$ | async)?.length || 0 }} tools found
      </div>
    </div>

    @if ((filteredTools$ | async)?.length) {
    <div class="tool-list__grid">
      @for (tool of filteredTools$ | async; track tool) {
      <div class="tool-card">
        <div class="tool-card__header">
          <div class="tool-card__icon">{{ tool.icon }}</div>
          <div class="tool-card__info">
            <h3 class="tool-card__name">{{ tool.name }}</h3>
            @if (tool.rating) {
            <div class="tool-card__rating">
              @for (star of getRatingStars(tool.rating); track $index) {
              <span class="tool-card__star" [class.tool-card__star--filled]="star === '‚òÖ'">
                {{ star }}
              </span>
              }
              <span class="tool-card__rating-value">{{ tool.rating }}</span>
            </div>
            }
          </div>
          @if (tool.price) {
          <div class="tool-card__price">
            {{ tool.price }}
          </div>
          }
        </div>
        <p class="tool-card__description">{{ tool.description }}</p>
        <div class="tool-card__footer">
          <span class="tool-card__category">{{ tool.category }}</span>
          <div class="tool-card__actions">
            <button class="tool-card__btn tool-card__btn--secondary">
              Learn More
            </button>
            <a [href]="tool.link">
              <button class="tool-card__btn tool-card__btn--primary">
                Try Now
              </button>
            </a>
          </div>
        </div>
      </div>
      }
    </div>
    } @else {
    <div class="tool-list__empty">
      <div class="tool-list__empty-icon">üîç</div>
      <h3 class="tool-list__empty-title">No tools found</h3>
      <p class="tool-list__empty-description">
        Try adjusting your search terms.
      </p>
    </div>
    }

  </div>
</section>
} @else {
<div class="tool-main">
  <router-outlet></router-outlet>
</div>
}

<app-global-contact></app-global-contact>
<app-footer-card></app-footer-card>