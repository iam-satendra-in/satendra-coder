<app-menu-card></app-menu-card>
<br><br><br>

<div class="npm-page" *ngIf="metadata()">
    <!-- Hero -->
    <header class="hero">
        <div class="left">
            <h1>{{ metadata().name }}</h1>
            <p class="desc">{{ metadata().description }}</p>
            <div class="tags">
                <span class="tag">{{ license() }}</span>
                <span class="tag">Angular</span>
                <span class="tag green">Stable</span>
            </div>
        </div>
        <div class="right">
            <button class="install-btn">npm i {{ packageName() }}</button>
            <small class="version">v{{ latestVersion() }}</small>
        </div>
    </header>

    <!-- Stats -->
    <section class="stats">
        <div class="card">
            <h3>{{ downloads()?.downloads || 0 }}</h3>
            <p>Weekly Downloads</p>
        </div>
        <div class="card">
            <h3>{{ license() }}</h3>
            <p>License</p>
        </div>
        <div class="card">
            <h3>{{ size() }}</h3>
            <p>Package Size</p>
        </div>
        <div class="card">
            <h3>{{ lastPublished() | date:'mediumDate' }}</h3>
            <p>Last Published</p>
        </div>
    </section>

    <!-- Installation -->
    <section class="install card">
        <h2>Installation</h2>
        <div class="install-commands">
            <div><code>npm install {{ packageName() }}</code><button>ðŸ“‹</button></div>
            <div><code>yarn add {{ packageName() }}</code><button>ðŸ“‹</button></div>
            <div><code>pnpm add {{ packageName() }}</code><button>ðŸ“‹</button></div>
        </div>
    </section>

    <!-- Usage Example -->
    <section class="usage card">
        <h2>Usage</h2>
        <pre><code class="language-typescript">
import &#123; ScSnippetModule &#125; from '{{ packageName() }}';

&#64;NgModule(&#123;
  imports: [ScSnippetModule],
&#125;)
export class AppModule &#123; &#125;
    </code></pre>
    </section>

    <!-- Dependencies -->
    <div class="grid">
        <section class="dependencies card">
            <h2>Dependencies</h2>
            <ul>
                <li *ngFor="let dep of (metadata().versions?.[latestVersion()]?.dependencies | keyvalue)">
                    {{ dep.key }} {{ dep.value }}
                </li>
            </ul>
        </section>

        <section class="versions card">
            <h2>Versions</h2>
            <ul>
                <li *ngFor="let v of (metadata().versions | keyvalue | slice:-2)">
                    <b *ngIf="v.key === latestVersion">v{{ v.key }} - Latest</b>
                    <span *ngIf="v.key !== latestVersion">v{{ v.key }}</span>
                </li>
            </ul>
        </section>
    </div>

    <!-- Maintainers -->
    <section class="maintainers card">
        <h2>Maintainers</h2>
        <div class="maintainer" *ngFor="let m of maintainers()">
            <img src="https://i.pravatar.cc/40?u={{ m.name }}" alt="avatar">
            <span>{{ m.name }}</span>
        </div>
    </section>
</div>

<app-footer-card></app-footer-card>