<app-menu-card></app-menu-card>
<div class="category-page">
  <div class="category-header">
    <div class="container">
      <div class="breadcrumb">
        <a routerLink="/">Home</a>
        <span class="separator">/</span>
        <span class="current">{{ categoryName }}</span>
      </div>

      <h1 class="category-title">{{ categoryName }}</h1>
      <p class="category-description">
        Explore our latest articles and insights in {{ categoryName.toLowerCase() }}
      </p>

      <div class="category-stats">
        <div class="stat">
          <span class="stat-number">{{ blogs.length }}</span>
          <span class="stat-label">Articles</span>
        </div>
        <div class="stat">
          <span class="stat-number">{{ getTotalReadTime() }}</span>
          <span class="stat-label">Min Read</span>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="category-layout">
      <main class="category-main">
        <div class="category-filters">
          <div class="filter-info">
            <h2>{{ categoryName }} Articles</h2>
            <span class="results-count">{{ blogs.length }} articles found</span>
          </div>

          <div class="sort-options">
            <select [(ngModel)]="sortBy" (change)="onSortChange()" class="sort-select">
              <option value="newest">Newest First</option>
              <option value="oldest">Oldest First</option>
              <option value="readTime">Read Time</option>
            </select>
          </div>
        </div>

        @if (sortedBlogs.length > 0) {
          <div class="blogs-grid">
            @for (blog of sortedBlogs; track blog) {
              <app-blog-card [blog]="blog" class="fade-in"></app-blog-card>
            }
          </div>
        } @else {
          <div class="no-blogs">
            <div class="no-blogs-icon">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                </svg>
              </div>
              <h3>No articles found</h3>
              <p>We couldn't find any articles in this category yet.</p>
              <a routerLink="/" class="btn btn-primary">Browse All Articles</a>
            </div>
          }


          <!-- Load More Button -->
          @if (hasMoreBlogs) {
            <div class="load-more">
              <button class="btn btn-secondary" (click)="loadMoreBlogs()">
                Load More Articles
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 14L12 21L5 14M12 21V3" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </button>
              </div>
            }
          </main>

          <!-- Sidebar -->
          <app-blog-sidebar class="category-sidebar"></app-blog-sidebar>
        </div>
      </div>
    </div>
    <app-global-contact></app-global-contact>
    <app-footer-card></app-footer-card>